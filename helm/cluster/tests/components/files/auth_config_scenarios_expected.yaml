apiVersion: apiserver.config.k8s.io/v1beta1
kind: AuthenticationConfiguration
jwt:
  - issuer:
      url: "https://issuer1.example.com"
      audiences:
        - "client1"
    claimMappings:
      username:
        expression: 'claims["sub"]'
  - issuer:
      url: "https://issuer1.example.com"
      audiences:
        - "client1"
    claimMappings:
      username:
        expression: 'claims["sub"]'
  - issuer:
      url: "https://issuer2.example.com"
      audiences:
        - "client2"
    claimMappings:
      username:
        claim: "sub"
        prefix: "oidc:"
      groups:
        claim: "roles"
        prefix: "oidc:"
  - issuer:
      url: "https://issuer3.example.com"
      audiences:
        - "client3"
    claimMappings:
      username:
        expression: 'claims["email"]'
      groups:
        claim: "roles"
        prefix: ""
